# 开发日志 (DevLog)

#### 2026-01-02: 环境搭建
* **工作内容**: 编写 `Dockerfile`，配置基础编译环境。
* **遇到的问题**: 执行 `apt-get install` 下载速度极慢，导致构建超时。
* **解决方案**: 将软件源替换为南京大学镜像源 (`mirrors.nju.edu.cn`)，构建速度显著提升。成功编译安装 AFL++。

#### 2026-01-03: 核心逻辑实现
* **工作内容**: 编写 `main.py`，实现 `GreyBoxFuzzer` 类的基础骨架。
* **攻克难点**:
    * **共享内存通信**: Python 的 `sysv_ipc` 库与 C 语言 `shmget` 的对接。通过阅读 AFL 源码，确定了 `__AFL_SHM_ID` 环境变量的传递方式。
    * **覆盖率获取**: 实现了从共享内存读取 64KB Bitmap 并统计非零字节的逻辑，成功获取程序执行反馈。

#### 2026-01-04: 算法增强与 Bug 修复
* **算法增强**:
    * 实现了完整的变异算子库：`Bitflip` (位翻转), `Arith` (算术), `Interest` (感兴趣值), `Havoc` (随机破坏)。
    * **新增加分项**: 实现了 `Splice` 算子，能够将两个种子拼接产生新样本；优化了种子调度策略，优先选择短种子以提升吞吐率。
* **Bug 修复**:
    * **Docker 依赖缺失**: 运行脚本时提示 `ModuleNotFoundError: pandas`。原因是在 Dockerfile 中漏掉了 Python 库的安装。**修复**: 在 Dockerfile 中添加了 `pip install -r requirements.txt`。
    * **可视化图表为空**: 发现生成的 CSV 文件只有表头，导致画图失败。**原因**: 代码逻辑只在“发现新路径”时才记录，若无新发现则无数据。**修复**: 引入“心跳机制”，强制每秒记录一次状态，确保图表数据的连续性。
    * **脚本容错**: 优化 `run_fuzz_task.sh`，增加了对编译结果的检查，防止因编译失败导致 Python 脚本空转。

#### 2026-01-04: 最终测试与交付
* **工作内容**: 在 10 个真实目标上进行集成测试。
* **结果**: 脚本稳定运行，能够生成清晰的覆盖率增长曲线 (`multi_target_comparison.png`)。整理项目文档与架构图，准备提交。